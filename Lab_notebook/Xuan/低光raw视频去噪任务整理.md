### 低光raw视频去噪

项目：实现实时的低光环境下对raw视频的去噪

目标：实时的降噪

思想：利用多帧融合的方法实现去噪

多帧融合：利用运动估计的结果寻找相似帧进行融合去噪

运动估计：迭代的LK/Farneback, Meshflow等光流估计方法

3D视频降噪：使用快速的对齐算法，或者用运动检测代替运动估计，根据检测到的运动强度和设定的阈值进行比较，如果超过阈值则使用空域滤波，小于阈值则使用时域滤波

Handheld 2019：先通过提出的流幅度计算方法对未来的运动进行预测，选择合适的合并帧数，从而平衡运动模糊核和噪声。然后使用改进的hdr+的对齐合并方法进行多帧融合去噪，再通过提出的可学习的自动白平衡方法等生成最后的rgb图像。

可参考的方法：VBM3D的几个变种算法，VBM4D等

**Pipeline**

![](../../Docs/Images/0109_Pipeline.png)

算法流程：首先Raw视频序列被输入，然后通过FIFO Bucket保持一定数量的图像帧，当一帧处理完，下一帧作为当前帧时， 又会从视频序列中补充一帧维持使用数量，从而形成一个动态的过程。接着通过Vevid方法实现低光图像的增强，增强后的图像使用视频去模糊的方法对序列帧图像进行去模糊。随后，去模糊后的序列帧参考帧图像和当前帧图像在经过下采样使用光流法估计出流场，根据流场找到相似块，最后先通过时域滤波融合去噪再通过空域滤波进行去噪，通过isp将raw图像转换成rgb图像输出去噪后的视频序列。

---

#### 任务安排

+ FIFO Bucket (该部分已有)
+ 视频去模糊方法 (ESTRNN, 深度学习方法)
+ 光流运动估计和相似块
+ 合并方法去噪
+ isp
+ 噪声标定
+ 数据收集
+ 对比实验

**2023.1.9-1.15**

+ 检查FIFO Bucket部分代码
+ 视频去模糊方法在其他数据集上有效果，我们这部分是否需要将其更换
+ 调试合适的光流估计方法，解决匹配问题，实现在不同数据上不出现错误匹配

**2023.1.16-1.20**

+ 调试合并方法，实现良好的去噪

**2023.1.25-1.31**

+ 噪声标定
+ 调整isp

**2023.2.1-2.7**

+ 调试对比算法的输出图像颜色[HDR+, HRNet, MaskdnGan, Handheld (这个前部分代码需要确认一下运动预测部分)]
+ 跟其他算法进行对比，优化算法(自己拍摄的数据)

**2023.2.8-2.14**

+ Starlight数据集上，所有算法的定性实验结果
+ CRVD数据集上，所有算法的定量实验结果
